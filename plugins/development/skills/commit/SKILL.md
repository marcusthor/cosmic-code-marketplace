---
name: commit
description: Creates well-formatted git commits following Conventional Commits specification. This skill should be used when committing code changes, creating atomic commits, or following conventional commit standards.
allowed-tools:
  - Bash(git add:*)
  - Bash(git status:*)
  - Bash(git commit:*)
  - Bash(git diff:*)
  - Bash(git log:*)
---

# Git Commit Skill

Creates well-formatted commits following the Conventional Commits specification.

## Commit Format

```
<type>(<scope>): <description>

[optional body]

[optional footer(s)]
```

**Examples:**
- `feat: add user authentication flow`
- `fix(auth): resolve token expiration issue`
- `docs(readme): update installation instructions`
- `refactor(api)!: change response format` (breaking change)

## Commit Types

| Type | Description |
|------|-------------|
| `feat` | New feature |
| `fix` | Bug fix |
| `docs` | Documentation only |
| `style` | Formatting, whitespace (no code change) |
| `refactor` | Code restructuring (no feature/fix) |
| `perf` | Performance improvement |
| `test` | Adding or updating tests |
| `build` | Build system or dependencies |
| `ci` | CI configuration |
| `chore` | Other changes (tooling, etc.) |
| `revert` | Revert a previous commit |

## Commit Process

### Step 1: Check Current State

```bash
git status
```

Determine if there are:
- Staged changes (commit only these)
- Unstaged changes (analyze if they should be staged)

### Step 2: Analyze Changes

```bash
git diff --staged
git diff
```

Review the diff to:
- Understand what changed
- Identify if changes should be split
- Determine appropriate commit type

### Step 3: Review Recent Commits

```bash
git log --oneline -5
```

Match the repository's commit style and conventions.

### Step 4: Stage Files (if needed)

Only stage related changes. If multiple unrelated changes exist, suggest splitting.

### Step 5: Create Commit

```bash
git commit -m "<type>(<scope>): <description>"
```

## Commit Message Rules

1. **Imperative mood** - "add" not "added"
2. **First line < 72 characters**
3. **Lowercase** - Type and description in lowercase
4. **No period** - Don't end the subject line with a period
5. **Atomic commits** - Single purpose per commit
6. **Split unrelated changes** - Don't mix features with fixes

## Scope (Optional)

The scope provides context about what part of the codebase is affected:
- `feat(auth)` - Authentication module
- `fix(api)` - API layer
- `docs(readme)` - README file

## Breaking Changes

Indicate breaking changes with `!` before the colon or in the footer:
- `feat(api)!: change authentication method`
- Or add `BREAKING CHANGE:` in the commit body

## Split Criteria

Consider splitting commits when detecting:
- Different concerns (feature + fix)
- Mixed types (docs + refactor)
- Unrelated file patterns
- Large number of changes (> 10 files)

## Options

- `--no-verify`: Skip pre-commit hooks (Husky)

## Critical Rules

1. **NEVER add Claude signature to commits** - No "Generated by Claude" or similar
2. **Only commit staged files** if any exist
3. **Analyze diff** before committing to suggest appropriate type
4. **Suggest splitting** if changes are unrelated
5. **Husky handles pre-commit checks** automatically
